.rangeCalendarRoot {
  place-self: center;
  width: 100%;
  max-width: 450px;
  height: 100dvh;
  max-height: unset;
}

.rangeCalendarHeader {
  padding-top: 12px;
}

.rangeCalendarHeaderButtons {
  display: grid;
  grid-template-columns: 48px auto;
  grid-auto-flow: column;
  place-items: center;
  justify-content: space-between;
  height: 48px;
}

.rangeCalendarHeaderTitles {
  display: flex;
  flex-direction: column;
  gap: 8px;
  padding-bottom: 12px;
  padding-left: calc(48px + 16px);
}

.rangeCalendarHeaderTitlesSupportingText {
  font-size: var(--md-typography-label-large-size);
  font-weight: var(--md-typography-label-large-weight);
  color: var(--md-color-on-surface-variant);
}

.rangeCalendarHeaderTitlesHeadline {
  font-size: var(--md-typography-title-large-size);
  font-weight: var(--md-typography-title-large-weight);
  color: var(--md-color-on-surface);
}

.rangeCalendarDialogBody {
  display: grid;
  height: 100%;
}

.rangeCalendarWeekDays {
  display: grid;
  grid-template-columns: repeat(7, 1fr);
  place-items: center;
  height: 48px;
  padding-inline: 12px;
}

.rangeCalendarTableList {
  overflow: scroll;
}

.rangeCalendarBody {
  position: relative;
  padding-block: 16px 4px;
  padding-inline: 12px;
}

.rangeCalendarTable {
  width: 100%;
  height: calc(48px * 6);
}

.rangeCalendarMonthSubhead {
  padding-inline: 24px;
  padding-bottom: 12px;
  font-size: var(--md-typography-title-small-size);
  font-weight: var(--md-typography-title-small-weight);
  color: var(--md-color-on-surface-variant);
}

.rangeCalendarTableRow {
  anchor-scope: --calendar-range-start, --calendar-range-end;

  &:has(> td > [data-selected]:not([data-outside-month]))::after {
    position: absolute;
    right: calc(anchor(--calendar-range-end right, -4px) + 4px);
    left: calc(anchor(--calendar-range-start left, -4px) + 4px);
    z-index: -1;
    height: 40px;
    margin-block: 4px;
    content: "";
    background-color: var(--md-color-secondary-container);
  }

  &:has(> td > [data-selection-start]:not([data-outside-month]))::after {
    border-top-left-radius: 99999px;
    border-bottom-left-radius: 99999px;
  }

  &:has(> td > [data-selection-end]:not([data-outside-month]))::after {
    border-top-right-radius: 99999px;
    border-bottom-right-radius: 99999px;
  }
}

.rangeCalendarTableRowSpacer {
  height: 48px;
}

.rangeCalendarTableCell {
  display: grid;
  place-items: center;
  width: 48px;
  height: 48px;
  margin-inline: auto;

  &[data-outside-month] {
    visibility: hidden;
  }

  &:not([data-outside-month]) {
    &[data-selection-start] {
      anchor-name: --calendar-range-start;
    }

    &[data-selection-end] {
      anchor-name: --calendar-range-end;
    }

    &[data-selection-start][data-selection-end] {
      anchor-name: --calendar-range-start, --calendar-range-end;
    }
  }
}

.rangeCalendarTableCellDay {
  display: grid;
  place-items: center;
  width: 40px;
  height: 40px;

  .rangeCalendarTableCell:is([data-selection-start], [data-selection-end]) > & {
    color: var(--md-color-on-primary);
    background-color: var(--md-color-primary);
    border-radius: 50%;
  }
}

.rangeCalendarFooter {
  display: flex;
  justify-content: end;
  padding-block: 8px 36px;
  padding-inline: 12px;
}